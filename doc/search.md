---
title: "How To enable local search"
---


***How To enable "local search", which means search trough website content, without
using external dependencies whose always implies at least security and privacy issues.***


# Check your *config.toml*

Search depends on additional output content type of JSON in *config.toml*:
```
[outputs]
  home = ["HTML", "JSON"]
```


# Create a *.../search* URL

Create *search.md* file(s) somewhere under the *content/* directory with such yaml header:

```md
---
title: "Local search"
sitemap:
  priority : 0.1
layout: "search"
---
```

All other content of search page will then came from the template *layouts/_default/search.html*

Setting a very low sitemap priority will tell search engines this is not important content.


# To go deeper

This implementation uses Fusejs and jquery.

## Searching additional fields

To search additional fields defined in front matter, you must add it in 2 places.

### Edit *layouts/_default/index.JSON*

The file *layouts/_default/index.JSON* exposes the values in *public/index.json* generated by hugo.

Example: exposes **tags** and **categories**:
```md
...
  "contents":{{ .Content | plainify | jsonify }}
  {{ if .Params.tags }},
  "tags":{{ .Params.tags | jsonify }}{{end}},
  "categories" : {{ .Params.categories | jsonify }},
...
```

### Edit fuse.js options to Search

*static/js/search.js*:
```
keys: [
  "title",
  "contents",
  "tags",
  "categories"
]
```

